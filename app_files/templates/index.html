{% extends 'base.html' %}

{% block body_attributes %}id="page-promo"{% endblock %}

{% block content %}
<div class="container mt-4">
    <!-- ADD Status Text Here -->
    <div id="status-text" class="status-initializing text-body">Initializing...</div> 

    <h2 id="page-title-promo">Run Promotions</h2>

    <!-- Balance display removed -->
    <!-- <div class="card mb-3">
        <div class="card-body d-flex justify-content-between align-items-center">
            <div>
                Current Dogehype Login Email: <strong id="username-display">Loading...</strong>
            </div>
            <button id="edit-username-btn" class="btn btn-sm btn-outline-secondary">Edit Email</button>
        </div>
    </div> -->

    <!-- Username Display/Edit -->
    <!--
    <div class="card mb-3">
        <div class="card-body d-flex justify-content-between align-items-center">
            <div>
                Current Dogehype Login Email: <strong id="username-display">Loading...</strong>
            </div>
            <button id="edit-username-btn" class="btn btn-sm btn-outline-secondary">Edit Email</button>
        </div>
    </div>
    -->

    <!-- Manual Single Promotion -->
    <div class="card mb-3">
        <div class="card-header"><strong>Single Promo</strong></div>
        <div class="card-body">
            <div id="single-promo-status-area" class="mb-3">
                <span id="single-promo-status-message"></span>
            </div>
            <div class="row g-3 align-items-end">
                <div class="col-md-3">
                    <label for="platform-select" class="form-label">Platform</label>
                    <select id="platform-select" class="form-select">
                        <!-- <option selected>Instagram</option> REMOVED default -->
                        <!-- Add other platforms later if needed -->
                        <!-- Options populated by JS -->
                    </select>
                </div>
                <div class="col-md-3">
                    <label for="engagement-select" class="form-label">Engagement</label>
                    <select id="engagement-select" class="form-select">
                        <!-- Options populated by JS -->
                </select>
            </div>
                <div class="col-md-3">
                    <label for="link-input" class="form-label">Link</label>
                    <input type="text" id="link-input" class="form-control" placeholder="e.g., https://...">
                </div>
                <div class="col-md-2">
                    <label for="quantity-input" class="form-label">Quantity</label>
                    <input type="number" id="quantity-input" class="form-control" placeholder="e.g., 100">
                </div>
                <div class="col-md-1 d-flex align-items-end">
                    <button id="start-single-promo-btn" class="btn btn-primary w-100">Run</button>
                </div>
            </div>
            <div class="mt-2">
                <div id="single-cost-display" class="small text-info"></div>
            </div>
            <hr>
            <div>
                <h6 class="mb-2 text-white">Active Single Promos</h6>
                <div id="single-promo-jobs" class="small text-white"></div>
            </div>
        </div>
            </div>

    <!-- Profile-Based Promotion -->
    <div class="card mb-3">
        <div class="card-header"><strong>Auto Promo</strong></div>
        <div class="card-body">
            <div id="promo-status-area" class="mb-3">
                <span id="promo-status-message"></span>
            </div>
            <div class="row g-3 align-items-end">
                <div class="col-md-4">
                    <label for="profile-select-promo" class="form-label">Select Profile</label>
                    <select id="profile-select-promo" class="form-select">
                        <!-- Options populated by JS -->
                </select>
            </div>
                <div class="col-md-6">
                    <label for="profile-link-input" class="form-label">Link</label>
                    <input type="text" id="profile-link-input" class="form-control" placeholder="e.g., https://...">
                </div>
                <div class="col-md-2 d-flex align-items-end">
                    <button id="start-profile-promo-btn" class="btn btn-primary w-100">Run</button>
                    <button id="stop-profile-btn" class="btn btn-danger w-100 ms-2" disabled>Stop</button>
                </div>
             </div>
            <div class="mt-2">
                <div id="auto-cost-display" class="small text-info"></div>
            </div>
            <hr>
            <div>
                <h6 class="mb-2 text-white">Active Auto Promos</h6>
                <div id="auto-promo-jobs" class="small text-white"></div>
            </div>
        </div>
    </div>

    <!-- Instagram Auto Monitoring Section Removed -->

</div> <!-- /container -->
{% endblock %} 